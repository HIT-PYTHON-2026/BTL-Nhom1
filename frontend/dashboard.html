<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotion AI — Phân loại cảm xúc</title>
    <meta name="description" content="Tải ảnh lên để phân loại cảm xúc bằng AI hoặc sử dụng webcam realtime">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>

    <!-- Top Bar -->
    <div class="top-bar">
        <div class="brand">
            <a href="index.html" class="icon-btn" title="Về trang chủ" style="text-decoration:none;">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </a>
            <div>
                <div class="brand-title">Emotion AI Dashboard</div>
                <div class="brand-sub">Realtime Emotion Recognition</div>
            </div>
        </div>
        <div class="top-actions">
            <button class="icon-btn" title="Notifications">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
                    <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path>
                </svg>
            </button>
            <div class="avatar"></div>
        </div>
    </div>

    <!-- Hero -->
    <div class="hero">
        <h1 class="hero-title">Phân loại cảm xúc</h1>
        <p class="hero-desc">Tải ảnh lên hoặc sử dụng webcam để nhận diện cảm xúc bằng AI</p>
    </div>

    <!-- Dashboard Grid -->
    <div class="dashboard">

        <!-- Left Panel: Upload + Results -->
        <div class="panel">

            <!-- Upload Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon"><i data-lucide="upload-cloud"></i></div>
                    <h3>Tải ảnh lên</h3>
                </div>

                <div class="drop-zone" id="drop-zone">
                    <div class="drop-icon"><i data-lucide="image-plus"></i></div>
                    <p class="drop-text">Kéo thả ảnh vào đây</p>
                    <p class="drop-hint">hoặc nhấn để chọn file · JPG, PNG, WEBP</p>
                    <button class="btn-upload-sm" id="btn-browse">Chọn file</button>
                    <input type="file" id="file-input" accept="image/*" hidden>
                </div>

                <div class="upload-display-container" id="preview-container">
                    <img id="uploaded-image" alt="Uploaded preview">
                    <canvas id="detection-canvas"></canvas>
                </div>

                <button class="btn btn-analyze" id="btn-analyze" disabled>
                    <i data-lucide="scan-face"></i> Phân tích
                </button>
            </div>

            <!-- Results Card -->
            <div class="card card-results">
                <p class="results-title">KẾT QUẢ PHÂN TÍCH</p>
                <div id="emotion-bars">
                    <!-- Emotion bars rendered by JS -->
                </div>
                <div class="results-footer">
                    <div class="footer-item">
                        <span class="dot dot-green"></span>
                        Thời gian: <strong id="proc-time">—</strong>
                    </div>
                    <div class="footer-item">
                        <span class="dot dot-gray"></span>
                        Model: <strong id="model-name">—</strong>
                    </div>
                </div>
            </div>

        </div>

        <!-- Right Panel: Live Stream + Log -->
        <div class="panel">

            <!-- Live Stream Card -->
            <div class="card card-stream">
                <div class="card-header">
                    <div class="card-icon"><i data-lucide="video"></i></div>
                    <h3>Camera Realtime</h3>
                    <div class="live-badge"><span class="live-dot"></span> LIVE</div>
                </div>

                <div class="video-wrapper" id="video-wrapper">
                    <img id="webcam-stream" alt="Webcam stream">
                    <div class="emotion-overlay" id="emotion-overlay" style="display:none;">
                        <span id="overlay-label">—</span>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn btn-camera" id="btn-toggle">
                        <i data-lucide="camera"></i>
                        <span id="btn-toggle-text">Bắt đầu Camera</span>
                    </button>
                    <button class="btn icon-btn btn-fullscreen" id="btn-fullscreen" title="Fullscreen">
                        <i data-lucide="maximize-2"></i>
                    </button>
                </div>
            </div>

            <!-- Activity Log -->
            <div class="card card-log">
                <p class="log-title">ACTIVITY LOG</p>
                <div class="log-list" id="activity-log">
                    <p class="log-empty">Chưa có hoạt động nào</p>
                </div>
            </div>

        </div>

    </div>

    <!-- Footer -->
    <footer class="app-footer">
        <span>© 2026 Emotion AI — BTL Nhóm 1</span>
        <div class="footer-links">
            <a href="index.html">Trang chủ</a>
            <a href="game.html">Mini Game</a>
        </div>
    </footer>

    <script src="js/script.js"></script>

</body>

</html>